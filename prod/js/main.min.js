var Birds=function(){function s(o){h.moveTo(o[0].x,o[0].y);for(var t=1;t<o.length;t++)h.lineTo(o[t].x,o[t].y)}var d,l,h,e,t,n=13,m=0,a=.4,r=10,u=-1,v={current:1,target:1},i={x:.5,y:.5,z:.5},c=function(t){["x","y","z"].forEach(function(o){.003<Math.abs(t.move[o])&&(t.move[o]*=.99)}),m%t.ownMove.t==0&&(t.ownMove.x=(.5-Math.random())/3,t.ownMove.y=(.5-Math.random())/3),t.move.x+=a*(i.x-t.pos.x+t.ownMove.x)*t.speed,t.move.y+=a*(i.y-t.pos.y+t.ownMove.y)*t.speed,t.move.z+=a*(i.z-t.pos.z)*t.speed},y=function(o){h.fillStyle="hsl("+m%360+", 100%, 90%)";function t(o,t){return{x:n+Math.cos(i+o*Math.PI*2)*r*t,y:e+Math.sin(i+o*Math.PI*2)*r*t}}var n=o.pos.x*d,e=o.pos.y*l,a=1.5*o.pos.z,r=(d+l)/200*a*v.current,i=Math.atan2(o.move.y*l,o.move.x*d),a=(h.lineWidth=1,a=o,c=t(.5,1.3),a.lines[2*u]=c.x,a.lines[2*u+1]=c.y,h.beginPath(),s([t(0,1.2),t(.01,.9),t(.05,.7),t(.47,.9),t(.45,1.5),t(.47,1.2),t(.5,1.5),t(.52,1.2),t(.55,1.5),t(.53,.9),t(-.25,.5),t(-.05,.7),t(-.01,.9),t(0,1.2)]),h.fill(),Math.sin(o.wing)),c=(a+1)/2;h.beginPath(),s([t(0,.5),t(-.15,c),t(-.25,3*c-1),t(-.4,.5),t(0,0)]),h.fill()},o=function(){for(var o=r;2<=o;o--){h.beginPath(),h.lineWidth=o/r*(d+l)/1e3,h.strokeStyle="hsla("+(m+o)%360+", 100%, 50%, "+o/r+")";var t=(u+o)%r,n=(u+o+r-1)%r;e.forEach(function(o){0!==o.lines[2*n]&&0!==o.lines[2*t]&&(h.moveTo(o.lines[2*t],o.lines[2*t+1]),h.lineTo(o.lines[2*n],o.lines[2*n+1]))}),h.stroke()}},f=function(){h.fillStyle="hsla("+m%360+", 100%, 90%, 0.01)",h.beginPath(),e.forEach(function(o){h.moveTo(o.pos.x*d,o.pos.y*l),h.arc(o.pos.x*d,o.pos.y*l,o.pos.z*(d+l)/30,0,2*Math.PI)}),h.fill(),h.closePath(),h.globalCompositeOperation="source-over"},M=function(){m++,v.current+=(v.target-v.current)/100,h.clearRect(0,0,d,l),e.forEach(function(o){c(o),o.wing+=.1+.3*o.wingAdd*a,o.pos.x+=o.move.x,o.pos.y+=o.move.y,o.pos.z+=o.move.z}),o(),u=(u+1)%r,e.forEach(function(o){y(o)}),f(),window.requestAnimationFrame(M)};this.run=function(){setInterval(function(){i.x=Math.random(),i.y=Math.random(),v.target=.5+Math.random()},1e3),t=document.getElementsByTagName("canvas")[0],h=t.getContext("2d"),d=window.innerWidth,l=window.innerHeight,t.setAttribute("width",d),t.setAttribute("height",l),(t=h.createLinearGradient(0,0,0,l/2)).addColorStop(0,"#000"),t.addColorStop(1,"#110"),(t=h.createLinearGradient(0,l/2,0,l)).addColorStop(0,"#000"),t.addColorStop(1,"#001"),e=[];for(var o=0;o<n;o++)e.push({wing:Math.random(),wingAdd:Math.random(),speed:(.2+.8*Math.random())/2e3,pos:{x:.25+.5*Math.random(),y:.25+.5*Math.random(),z:Math.random()},move:{x:(.5-Math.random())/100,y:(.5-Math.random())/100,z:0},moveCache:{x:0,y:0},ownMove:{t:20+100*Math.random()|0,x:0,y:0},tar:{x:.5,y:.5},lines:new Float32Array(2*r)});M()}},b=new Birds,myContact=(b.run(),document.querySelector(".contact-link")),contact=document.querySelector(".window-contact"),cross=document.querySelector(".cross-wind");myContact.addEventListener("click",function(){contact.classList.toggle("active")}),cross.addEventListener("click",function(){contact.classList.toggle("active")});