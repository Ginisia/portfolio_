let Birds=function(){function c(o){d.moveTo(o[0].x,o[0].y);for(let t=1;t<o.length;t++)d.lineTo(o[t].x,o[t].y)}let o={number:13},s,l,t,d,n,h=0,e=.4,a=10,m=-1,i,r,u={current:1,target:1},y={x:.5,y:.5,z:.5},f=function(o){["x","y","z"].forEach(function(t){.003<Math.abs(o.move[t])&&(o.move[t]*=.99)}),h%o.ownMove.t==0&&(o.ownMove.x=(.5-Math.random())/3,o.ownMove.y=(.5-Math.random())/3),o.move.x+=e*(y.x-o.pos.x+o.ownMove.x)*o.speed,o.move.y+=e*(y.y-o.pos.y+o.ownMove.y)*o.speed,o.move.z+=e*(y.z-o.pos.z)*o.speed},v=function(t){d.fillStyle="hsl("+h%360+", 100%, 90%)";let e={x:t.pos.x*s,y:t.pos.y*l,z:1.5*t.pos.z},n=(s+l)/200*e.z*u.current,a=Math.atan2(t.move.y*l,t.move.x*s);d.lineWidth=1;function o(t,o){return{x:e.x+Math.cos(a+t*Math.PI*2)*n*o,y:e.y+Math.sin(a+t*Math.PI*2)*n*o}}i=t,r=o(.5,1.3),i.lines[2*m]=r.x,i.lines[2*m+1]=r.y,d.beginPath(),c([o(0,1.2),o(.01,.9),o(.05,.7),o(.47,.9),o(.45,1.5),o(.47,1.2),o(.5,1.5),o(.52,1.2),o(.55,1.5),o(.53,.9),o(-.25,.5),o(-.05,.7),o(-.01,.9),o(0,1.2)]),d.fill();var i=Math.sin(t.wing),r=(i+1)/2;d.beginPath(),c([o(0,.5),o(-.15,r),o(-.25,3*r-1),o(-.4,.5),o(0,0)]),d.fill()},M=function(){for(let t=a;2<=t;t--){d.beginPath(),d.lineWidth=t/a*(s+l)/1e3,d.strokeStyle="hsla("+(h+t)%360+", 100%, 50%, "+t/a+")";let o=(m+t)%a,e=(m+t+a-1)%a;n.forEach(function(t){0!==t.lines[2*e]&&0!==t.lines[2*o]&&(d.moveTo(t.lines[2*o],t.lines[2*o+1]),d.lineTo(t.lines[2*e],t.lines[2*e+1]))}),d.stroke()}},p=function(){d.fillStyle="hsla("+h%360+", 100%, 90%, 0.01)",d.beginPath(),n.forEach(function(t){d.moveTo(t.pos.x*s,t.pos.y*l),d.arc(t.pos.x*s,t.pos.y*l,t.pos.z*(s+l)/30,0,2*Math.PI)}),d.fill(),d.closePath(),d.globalCompositeOperation="source-over"};let x=function(){h++,u.current+=(u.target-u.current)/100,d.clearRect(0,0,s,l),n.forEach(function(t){f(t),t.wing+=.1+.3*t.wingAdd*e,t.pos.x+=t.move.x,t.pos.y+=t.move.y,t.pos.z+=t.move.z}),M(),m=(m+1)%a,n.forEach(function(t){v(t)}),p(),window.requestAnimationFrame(x)};this.run=function(){setInterval(function(){y.x=Math.random(),y.y=Math.random(),u.target=.5+Math.random()},1e3),t=document.getElementsByTagName("canvas")[0],d=t.getContext("2d"),s=window.innerWidth,l=window.innerHeight,t.setAttribute("width",s),t.setAttribute("height",l),(i=d.createLinearGradient(0,0,0,l/2)).addColorStop(0,"#000"),i.addColorStop(1,"#110"),(r=d.createLinearGradient(0,l/2,0,l)).addColorStop(0,"#000"),r.addColorStop(1,"#001"),n=[];for(let t=0;t<o.number;t++)n.push({wing:Math.random(),wingAdd:Math.random(),speed:(.2+.8*Math.random())/2e3,pos:{x:.25+.5*Math.random(),y:.25+.5*Math.random(),z:Math.random()},move:{x:(.5-Math.random())/100,y:(.5-Math.random())/100,z:0},moveCache:{x:0,y:0},ownMove:{t:20+100*Math.random()|0,x:0,y:0},tar:{x:.5,y:.5},lines:new Float32Array(2*a)});x()}},b=new Birds,myContact=(b.run(),document.querySelector(".contact-link")),contact=document.querySelector(".window-contact"),cross=document.querySelector(".cross-wind");myContact.addEventListener("click",function(){contact.classList.toggle("active")}),cross.addEventListener("click",function(){contact.classList.toggle("active")});